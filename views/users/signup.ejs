<% layout("/layouts/boilerplate") %>

<div class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden"
     style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
    <div class="layout-container flex h-full grow flex-col">
        <!-- Updated responsive padding -->
        <div class="px-4 sm:px-8 md:px-16 lg:px-40 flex flex-1 justify-center">
            <div class="layout-content-container flex flex-col w-full max-w-[512px] py-3 sm:py-5 flex-1">
                <!-- Responsive heading -->
                <h2
                    class="text-[#171512] tracking-light text-xl sm:text-[28px] font-bold leading-tight px-4 text-center pb-3">
                    Create your account
                </h2>

                <form action="/signup" method="POST" novalidate>
                    <div class="flex justify-center">
                        <div class="flex flex-col w-full max-w-[480px] px-4 py-3">
                            <!-- Username field -->
                            <label class="flex flex-col flex-1 pb-4">
                                <input name="username"
                                       type="text"
                                       placeholder="Full name"
                                       class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#171512] focus:outline-0 focus:ring-0 border-none bg-[#f4f3f1] focus:border-none h-12 sm:h-14 placeholder:text-[#837b67] p-3 sm:p-4 text-sm sm:text-base font-normal leading-normal"
                                       required />
                            </label>

                            <!-- Email field -->
                            <label class="flex flex-col flex-1 pb-4">
                                <input name="email"
                                       type="email"
                                       placeholder="Email"
                                       class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#171512] focus:outline-0 focus:ring-0 border-none bg-[#f4f3f1] focus:border-none h-12 sm:h-14 placeholder:text-[#837b67] p-3 sm:p-4 text-sm sm:text-base font-normal leading-normal"
                                       required />
                            </label>

                            <!-- Password field with toggle -->
                            <label class="flex flex-col flex-1 pb-4">
                                <div class="flex w-full flex-1 items-stretch rounded-xl relative">
                                    <input name="password"
                                           id="password"
                                           type="password"
                                           placeholder="Password"
                                           class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#171512] focus:outline-0 focus:ring-0 border-none bg-[#f4f3f1] focus:border-none h-12 sm:h-14 placeholder:text-[#837b67] p-3 sm:p-4 text-sm sm:text-base font-normal leading-normal pr-12"
                                           required />
                                    <button type="button"
                                            id="togglePassword"
                                            class="absolute right-3 top-1/2 -translate-y-1/2 text-[#837b67] hover:text-[#171512] transition-colors cursor-pointer">
                                        <i class="fa-regular fa-eye-slash password-toggle-icon"></i>
                                    </button>
                                </div>
                            </label>

                            <!-- Submit button -->
                            <div class="flex py-3">
                                <button type="submit"
                                        class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 sm:h-12 px-4 flex-1 bg-[#f3c144] text-[#171512] text-sm sm:text-base font-bold leading-normal tracking-[0.015em] hover:bg-[#e5b53c] transition-colors">
                                    <span class="truncate">Sign up</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>

                <!-- Social login section -->
                <p class="text-[#837b67] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center">Or</p>
                <div class="flex justify-center">
                    <div class="flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3">
                        <a href="/auth/google"
                           class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 sm:h-12 px-4 bg-[#f4f3f1] text-[#171512] text-sm sm:text-base font-bold leading-normal tracking-[0.015em] w-full hover:bg-[#e6e3db] transition-colors">
                            <span class="truncate">Continue with Google</span>
                        </a>
                        <a href="/auth/github"
                           class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 sm:h-12 px-4 bg-[#f4f3f1] text-[#171512] text-sm sm:text-base font-bold leading-normal tracking-[0.015em] w-full hover:bg-[#e6e3db] transition-colors">
                            <span class="truncate">Continue with GitHub</span>
                        </a>
                    </div>
                </div>

                <!-- Login link -->
                <p class="text-[#837b67] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center">
                    Already have an account?
                    <a href="/login" class="underline hover:text-[#171512] transition-colors">Log in</a>
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    const toggleIcon = togglePassword.querySelector('.password-toggle-icon');

    togglePassword.addEventListener('click', function () {
        // Toggle password visibility
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);

        // Toggle icon
        toggleIcon.classList.toggle('fa-eye');
        toggleIcon.classList.toggle('fa-eye-slash');

        // Toggle color
        this.classList.toggle('text-[#181611]');
    });
</script>